# Unity3D的C/S架构消息通讯模板
在Unity3D中使用的Socket消息通讯模板，服务器也是Csharp写的

客户端作为Unity3D项目的一部分，导入到Unity3D工程中;  服务器是一个单独的控制台程序，需要写一个`Main`方法。

### 网络消息MsgXXX

本通讯模型通过一种叫做“消息协议”的对象进行通讯。

消息协议的基类：`MsgBase`类，完成了对协议的一些操作。

消息协议通过继承自类`MsgBase`来定义，本质上是一个具有特定功能的结构。

类似于Request，这些消息协议对象中应该包含有此消息协议应有的一些信息，比如登录协议`MsgLogin`就应该至少包含`userid`和`pwd`两个字段

### 自定义新的协议

写新的自定义协议时，只需要且必须继承自`MsgBase`后在构造函数中为`protoName`属性赋值为此协议的类名的字符串。

写新的自定义协议时，请保证服务端和客户端都添加了一模一样的新的自定义协议的类声明，并且在类`MsgHandler`中添加与此协议同名的静态方法，用于处理在收到此协议时所要做的事情（此静态方法大多数情况下在服务端和客户端上不同）。

##### 为什么消息协议的类型名，消息协议的protoName变量的值，和收到此消息时的处理方法需要同名？

`MsgHandler`中用来处理收到某消息时的静态方法，会在服务器收到并解析一条消息协议时，通过Csharp的反射机制，使用此收到的消息协议中的成员变量`protoName`来找到对应的处理方法。
